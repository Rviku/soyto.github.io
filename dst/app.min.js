/*
 * Soyto.github.io (0.10.4)
 *     DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE
 *         Version 2, December 2004
 * 
 * Copyright (C) 2012 Romain Lespinasse <romain.lespinasse@gmail.com>
 * 
 * Everyone is permitted to copy and distribute verbatim or modified
 * copies of this license document, and changing it is allowed as long
 * as the name is changed.
 * 
 * DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE
 * TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
 * 
 * 0. You just DO WHAT THE FUCK YOU WANT TO.
 * 
 */
!function(a,b,c,d){"use strict";function e(a){var b={templateUrl:"/app/templates/index.html",controller:"mainApp.index.controller",resolve:{posts:["helperService","blogService","consoleService",function(a,b){return a.$q.likeNormal(b.getAll())}]}};a.when("/",b);var c={templateUrl:"/app/templates/ranking.html",controller:"mainApp.ranking.list.controller",resolve:{serverData:["helperService","storedDataService","$route","consoleService",function(a,b,c){return a.$q.likeNormal(b.getLastFromServer(c.current.params.serverName))}]}},d={templateUrl:"/app/templates/ranking.mobile.html",controller:"mainApp.ranking.list.mobile.controller",resolve:{serverData:["helperService","storedDataService","$route","consoleService",function(a,b,c){return a.$q.likeNormal(b.getLastFromServer(c.current.params.serverName))}]}};a.when("/ranking/:serverName",i?d:c);var e={templateUrl:"/app/templates/ranking.html",controller:"mainApp.ranking.list.controller",resolve:{serverData:["helperService","storedDataService","$route",function(a,b,c){return a.$q.likeNormal(b.getFromServer(c.current.params.date,c.current.params.serverName))}]}},f={templateUrl:"/app/templates/ranking.mobile.html",controller:"mainApp.ranking.list.mobile.controller",resolve:{serverData:["helperService","storedDataService","$route",function(a,b,c){return a.$q.likeNormal(b.getFromServer(c.current.params.date,c.current.params.serverName))}]}};a.when("/ranking/:serverName/:date",i?f:e);var g={templateUrl:"/app/templates/characterInfo.html",controller:"mainApp.characterInfo.controller",resolve:{characterInfo:["helperService","storedDataService","$route",function(a,b,c){return a.$q.likeNormal(b.getCharacterInfo(c.current.params.serverName,c.current.params.characterID))}]}},h={templateUrl:"/app/templates/characterInfo.mobile.html",controller:"mainApp.characterInfo.mobile.controller",resolve:{characterInfo:["helperService","storedDataService","$route",function(a,b,c){return a.$q.likeNormal(b.getCharacterInfo(c.current.params.serverName,c.current.params.characterID))}]}};a.when("/character/:serverName/:characterID",i?h:g);var j={templateUrl:"/app/templates/merge.html",controller:"mainApp.merge.list.controller",resolve:{serversData:["helperService","storedDataService","$route",function(a,b,c){var d=b.mergeGroups[c.current.params.groupID],e=[],f=a.$q.resolve();return d.forEach(function(c){f=f.then(function(){return a.$q.likeNormal(b.getLastFromServer(c.name)).then(function(a){e.push({server:c,data:a.data,date:a.date})})})}),f=f.then(function(){return e})}],groupID:["$route",function(a){return a.current.params.groupID}]}},k={templateUrl:"/app/templates/merge.mobile.html",controller:"mainApp.merge.list.mobile.controller",resolve:{serversData:["helperService","storedDataService","$route",function(a,b,c){var d=b.mergeGroups[c.current.params.groupID],e=[],f=a.$q.resolve();return d.forEach(function(c){f=f.then(function(){return a.$q.likeNormal(b.getLastFromServer(c.name)).then(function(a){e.push({server:c,data:a.data,date:a.date})})})}),f=f.then(function(){return e})}],groupID:["$route",function(a){return a.current.params.groupID}]}};a.when("/merge/:groupID",i?k:j)}function f(a){a.includeSpinner=!0,a.includeBar=!0}a.module("mainApp",["ngRoute","ngSanitize","angular-loading-bar","chart.js","mgcrea.ngStrap","ngAnimate"]),a.module("mainApp").constant("$moment",c),a.module("mainApp").constant("$marked",d),a.module("mainApp").config(["$routeProvider",e]),a.module("mainApp").config(["cfpLoadingBarProvider",f]);var g=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,h=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,i=g.test(b.userAgent)||h.test(b.userAgent.substr(0,4))}(angular,navigator,moment,marked),function(a){"use strict";function b(b,d,e,f,g,h){function i(){f.$scope.setTitle([h.serverName,"->",h.data.characterName].join(" ")),b.serverName=h.serverName,b.character=h.data,b.character.pictureURL=g.getCharacterPic(h),b.character.raceName=1==b.character.raceID?"Asmodian":"Elyos",b.character.characterClass=e.getCharacterClass(h.data.characterClassID),b.character.soldierRank=e.getCharacterRank(h.data.soldierRankID),b.character.names=b.character.names.sort(j),b.character.status=b.character.status.sort(j),b.character.guilds=b.character.guilds.sort(j),"Hellion"==h.serverName&&430586==h.characterID&&b.character.names.splice(1,1),"Deyla"==h.serverName&&825556==h.characterID&&b.character.names.splice(1,1),"Urtem"==h.serverName&&1508483==h.characterID&&b.character.names.splice(1,1),"Hellion"==h.serverName&&495423==h.characterID&&(b.character.names.splice(1,b.character.names.length-1),b.character.guilds.splice(1,b.character.guilds.length-1)),"Hellion"==h.serverName&&326346==h.characterID&&(b.character.pictureURL="//i.imgur.com/bw4UVZu.png"),b.character.status.forEach(function(a){a.soldierRank=e.getCharacterRank(a.soldierRankID)}),b.chart={},b.chart.options={pointHitDetectionRadius:4},b.chart.labels=[],b.chart.series=[h.data.characterName],b.chart.data=[[]],a.copy(b.character.status).sort(function(a,b){return a.date>b.date?1:-1}).slice(b.character.status.length-30).forEach(function(a){b.chart.labels.push(d(a.date).format("MM-DD-YYYY")),b.chart.data[0].push(a.gloryPoint)}),b.pagination={currentPage:0,numElementsPerPage:10,numPages:-1,numElements:-1,pageNumbers:[],fullCollection:[],currentPageElements:[],next:l,previous:m,goTo:n},k(b.character.status,b.pagination)}function j(a,b){return a.date>b.date?-1:1}function k(a,b){b.currentPage=0,b.numPages=parseInt(a.length/b.numElementsPerPage),b.numElements=a.length,b.fullCollection=a,a.length%b.numElementsPerPage>0&&(b.numPages+=1),0===b.numPages&&(b.numPages=1),b.currentPageElements=b.fullCollection.slice(0,b.numElementsPerPage),b.pageNumbers=Array.apply(null,{length:b.numPages}).map(function(a,b){return b+1},Number)}function l(){var a=this;if(!(a.currentPage+1>=a.numPages)){a.currentPage+=1;var b=a.currentPage*a.numElementsPerPage;a.currentPageElements=a.fullCollection.slice(b,a.numElementsPerPage+b)}}function m(){var a=this;if(0!==a.currentPage){a.currentPage-=1;var b=a.currentPage*a.numElementsPerPage;a.currentPageElements=a.fullCollection.slice(b,a.numElementsPerPage+b)}}function n(a){var b=this;if(a>0&&a<=b.numPages){b.currentPage=a-1;var c=b.currentPage*b.numElementsPerPage;b.currentPageElements=b.fullCollection.slice(c,b.numElementsPerPage+c)}}b._name=c,i()}var c="mainApp.characterInfo.controller";a.module("mainApp").controller(c,["$scope","$moment","storedDataService","helperService","caracterPicsService","characterInfo",b])}(angular),function(a){"use strict";function b(a,b,d,e,f,g){function h(){e.$scope.setTitle([g.serverName,"->",g.data.characterName].join(" ")),a.serverName=g.serverName,a.character=g.data,a.character.pictureURL=f.getCharacterPic(g),a.character.raceName=1==a.character.raceID?"Asmodian":"Elyos",a.character.characterClass=d.getCharacterClass(g.data.characterClassID),a.character.soldierRank=d.getCharacterRank(g.data.soldierRankID),a.character.names=a.character.names.sort(i),a.character.status=a.character.status.sort(i),a.character.guilds=a.character.guilds.sort(i),"Hellion"==g.serverName&&326346==g.characterID&&(a.character.pictureURL="//i.imgur.com/bw4UVZu.png"),a.character.status.forEach(function(a){a.soldierRank=d.getCharacterRank(a.soldierRankID)}),a.pagination={currentPage:0,numElementsPerPage:10,numPages:-1,numElements:-1,pageNumbers:[],fullCollection:[],currentPageElements:[],next:k,previous:l,goTo:m},j(a.character.status,a.pagination)}function i(a,b){return a.date>b.date?-1:1}function j(a,b){b.currentPage=0,b.numPages=parseInt(a.length/b.numElementsPerPage),b.numElements=a.length,b.fullCollection=a,a.length%b.numElementsPerPage>0&&(b.numPages+=1),0===b.numPages&&(b.numPages=1),b.currentPageElements=b.fullCollection.slice(0,b.numElementsPerPage),b.pageNumbers=Array.apply(null,{length:b.numPages}).map(function(a,b){return b+1},Number)}function k(){var a=this;if(!(a.currentPage+1>=a.numPages)){a.currentPage+=1;var b=a.currentPage*a.numElementsPerPage;a.currentPageElements=a.fullCollection.slice(b,a.numElementsPerPage+b)}}function l(){var a=this;if(0!==a.currentPage){a.currentPage-=1;var b=a.currentPage*a.numElementsPerPage;a.currentPageElements=a.fullCollection.slice(b,a.numElementsPerPage+b)}}function m(a){var b=this;if(a>0&&a<=b.numPages){b.currentPage=a-1;var c=b.currentPage*b.numElementsPerPage;b.currentPageElements=b.fullCollection.slice(c,b.numElementsPerPage+c)}}a._name=c,h()}var c="mainApp.characterInfo.mobile.controller";a.module("mainApp").controller(c,["$scope","$moment","storedDataService","helperService","caracterPicsService","characterInfo",b])}(angular),function(a){"use strict";function b(a,b,d,e,f){a._name=c,a.servers=e.serversList,a.lastServerUpdateData=e.getLastServerData(),a.posts=f.select(function(a){return a.htmlContent=b(a.content),a}),d.$scope.setTitle("Soyto.github.io"),d.$scope.setNav("home")}var c="mainApp.index.controller";a.module("mainApp").controller(c,["$scope","$marked","helperService","storedDataService","posts",b])}(angular),function(a){"use strict";function b(b,d,e,f,g,h,i,j){function k(){var b=i.select(function(a){return a.server.name}).join(" + ");g.$scope.setTitle(b),g.$scope.setNav("ranking.merges.list"),d.serverData={data:{elyos:[],asmodians:[]},name:b,id:j},d.textSearch="",d.mergeGroups=h.mergeGroups.select(function(a,b){return{id:b,name:a.select(function(a){return a.name}).join(" + ")}}),d.currentMerge=d.mergeGroups.first(function(a){return a.id==j}),d.classes=h.characterClassIds.where(function(a){return a.id}),d.ranks=h.characterSoldierRankIds.where(function(a){return a.id>=10}).sort(function(a,b){return b.id-a.id});var c={currentPage:0,numElementsPerPage:100,numPages:-1,numElements:-1,pageNumbers:[],fullCollection:[],currentPageElements:[],next:p,previous:q,goTo:r};d.pagination={},d.pagination.elyos=a.copy(c),d.pagination.asmodians=a.copy(c);var e=function(b){return a.copy(b)};i.forEach(function(a){d.serverData.data.elyos=d.serverData.data.elyos.concat(a.data.elyos).select(e),d.serverData.data.asmodians=d.serverData.data.asmodians.concat(a.data.asmodians).select(e)}),d.serverData.data.elyos.sort(function(a,b){return b.gloryPoint-a.gloryPoint}),d.serverData.data.asmodians.sort(function(a,b){return b.gloryPoint-a.gloryPoint}),d.serverData.data.elyos.forEach(function(a,b){a.oldRankingPositionChange=a.rankingPositionChange,a.rankingPositionChange=a.position-(b+1),a.oldPosition=a.position,a.position=b+1,a.oldSoldierRankID=a.soldierRankID,m(a)}),d.serverData.data.asmodians.forEach(function(a,b){a.oldRankingPositionChange=a.rankingPositionChange,a.rankingPositionChange=a.position-(b+1),a.oldPosition=a.position,a.position=b+1,a.oldSoldierRankID=a.soldierRankID,m(a)}),o(d.serverData.data.elyos.select(l),d.pagination.elyos),o(d.serverData.data.asmodians.select(l),d.pagination.asmodians),d.$watch("textSearch",function(a){n(a,d.selectedClass,d.selectedRank)}),d.$watch("selectedClass",function(a){n(d.textSearch,a,d.selectedRank)}),d.$watch("selectedRank",function(a){n(d.textSearch,d.selectedClass,a)})}function l(a){return a?(a.characterClass=h.getCharacterClass(a.characterClassID),a.soldierRank=h.getCharacterRank(a.soldierRankID),a.oldSoldierRank=h.getCharacterRank(a.oldSoldierRankID),a):{}}function m(a){return 1==a.position?void(a.soldierRankID=18):a.position<=3?void(a.soldierRankID=17):a.position<=10?void(a.soldierRankID=16):a.position<=30?void(a.soldierRankID=15):a.position<=100?void(a.soldierRankID=14):a.position<=300?void(a.soldierRankID=13):a.position<=500?void(a.soldierRankID=12):a.position<=700?void(a.soldierRankID=11):a.position<=999?void(a.soldierRankID=10):void(a.soldierRankID=9)}function n(a,b,c){function e(b,c,d,e){var f=!1,g=!1,i=!1;if(c){if(b&&b.characterName){var j=a.toLowerCase(),k=b.characterName?b.characterName.toLowerCase():"",l=b.guildName?b.guildName.toLowerCase():"",m=h.getCharacterClass(b.characterClassID).name.toLowerCase(),n=h.getCharacterRank(b.soldierRankID).name.toLowerCase(),o=b.serverName?b.serverName.toLowerCase():"";f=k.indexOf(j)>=0||l.indexOf(j)>=0||m.indexOf(j)>=0||n.indexOf(j)>=0||o.indexOf(j)>=0}}else f=!0;return d?b&&(g=b.characterClassID==d.id):g=!0,e?b&&(i=b.soldierRankID==e.id):i=!0,f&&g&&i}s&&f.cancel(s),s=f(function(){return b||a||c?(o(d.serverData.data.elyos.where(function(d){return e(d,a,b,c)}).select(l),d.pagination.elyos),void o(d.serverData.data.asmodians.where(function(d){return e(d,a,b,c)}).select(l),d.pagination.asmodians)):(o(d.serverData.data.elyos.select(l),d.pagination.elyos),void o(d.serverData.data.asmodians.select(l),d.pagination.asmodians))},500)}function o(a,b){b.currentPage=0,b.numPages=parseInt(a.length/b.numElementsPerPage),b.numElements=a.length,b.fullCollection=a,a.length%b.numElementsPerPage>0&&(b.numPages+=1),0===b.numPages&&(b.numPages=1),b.currentPageElements=b.fullCollection.slice(0,b.numElementsPerPage),b.pageNumbers=Array.apply(null,{length:b.numPages}).map(function(a,b){return b+1},Number)}function p(){var a=this;if(!(a.currentPage+1>=a.numPages)){a.currentPage+=1;var b=a.currentPage*a.numElementsPerPage;a.currentPageElements=a.fullCollection.slice(b,a.numElementsPerPage+b)}}function q(){var a=this;if(0!==a.currentPage){a.currentPage-=1;var b=a.currentPage*a.numElementsPerPage;a.currentPageElements=a.fullCollection.slice(b,a.numElementsPerPage+b)}}function r(a){var b=this;if(a>0&&a<=b.numPages){b.currentPage=a-1;var c=b.currentPage*b.numElementsPerPage;b.currentPageElements=b.fullCollection.slice(c,b.numElementsPerPage+c)}}d._name=c;var s=null;k(),d.goTo=function(a){a.id!=j&&e.path("/merge/"+a.id)}}var c="mainApp.merge.list.controller";a.module("mainApp").controller(c,["$log","$scope","$location","$timeout","helperService","storedDataService","serversData","groupID",b])}(angular),function(a){"use strict";function b(a,b,d,e,f,g,h,i,j){function k(){var a=i.select(function(a){return a.server.name}).join(" + ");g.$scope.setTitle(a),g.$scope.setNav("ranking.list"),b.serverData={data:{elyos:[],asmodians:[]},name:a,id:j},b.pagination={elyos:{currentPage:0,numElementsPerPage:50,numPages:-1,numElements:-1},asmodians:{currentPage:0,numElementsPerPage:50,numPages:-1,numElements:-1}},b.mergeGroups=h.mergeGroups.select(function(a,b){return{id:b,name:a.select(function(a){return a.name}).join(" + ")}}),b.currentMerge=b.mergeGroups.first(function(a){return a.id==j}),b.classes=h.characterClassIds.where(function(a){return a.id}),b.ranks=h.characterSoldierRankIds.where(function(a){return a.id>=10}).sort(function(a,b){return b.id-a.id}),i.forEach(function(a){b.serverData.data.elyos=b.serverData.data.elyos.concat(a.data.elyos),b.serverData.data.asmodians=b.serverData.data.asmodians.concat(a.data.asmodians)}),b.serverData.data.elyos.sort(function(a,b){return b.gloryPoint-a.gloryPoint}),b.serverData.data.asmodians.sort(function(a,b){return b.gloryPoint-a.gloryPoint}),b.serverData.data.elyos.forEach(function(a,b){a.rankingPositionChange=a.position-(b+1),a.position=b+1,m(a)}),b.serverData.data.asmodians.forEach(function(a,b){a.rankingPositionChange=a.position-(b+1),a.position=b+1,m(a)}),b.elyosData=o(b.serverData.data.elyos.select(l),b.pagination.elyos),b.asmodianData=o(b.serverData.data.asmodians.select(l),b.pagination.asmodians)}function l(a){return a?(a.characterClass=h.getCharacterClass(a.characterClassID),a.soldierRank=h.getCharacterRank(a.soldierRankID),a):{}}function m(a){return 1==a.position?void(a.soldierRankID=18):a.position<=3?void(a.soldierRankID=17):a.position<=10?void(a.soldierRankID=16):a.position<=30?void(a.soldierRankID=15):a.position<=100?void(a.soldierRankID=14):a.position<=300?void(a.soldierRankID=13):a.position<=500?void(a.soldierRankID=12):a.position<=700?void(a.soldierRankID=11):a.position<=999?void(a.soldierRankID=10):void(a.soldierRankID=9)}function n(a,c,d){function e(c,d,e,f){var g=!1,i=!1,j=!1;if(d){if(c&&c.characterName){var k=a.toLowerCase(),l=c.characterName?c.characterName.toLowerCase():"",m=c.guildName?c.guildName.toLowerCase():"",n=h.getCharacterClass(c.characterClassID).name.toLowerCase(),o=h.getCharacterRank(c.soldierRankID).name.toLowerCase(),p=c.serverName?c.serverName.toLowerCase():"";g=l.indexOf(k)>=0||m.indexOf(k)>=0||n.indexOf(k)>=0||o.indexOf(k)>=0||p.indexOf(k)>=0}}else g=!0;return e?c&&(i=c.characterClassID==e.id):i=!0,f?c&&(j=c.soldierRankID==f.id):j=!0,b.filteredData=!0,g&&i&&j}b.pagination.elyos.currentPage=0,b.pagination.asmodians.currentPage=0;var f=function(a){return o(a,b.pagination.elyos)},g=function(a){return o(a,b.pagination.asmodians)};return c||a||d?(b.elyosData=f(b.serverData.data.elyos.where(function(b){return e(b,a,c,d)}).select(l)),void(b.asmodianData=g(b.serverData.data.asmodians.where(function(b){return e(b,a,c,d)}).select(l)))):(b.elyosData=f(b.serverData.data.elyos.select(l)),b.asmodianData=g(b.serverData.data.asmodians.select(l)),void(b.filteredData=!1))}function o(a,b){var c=b.currentPage*b.numElementsPerPage;b.numElements=a.length,b.elements=a,b.numPages=parseInt(a.length/b.numElementsPerPage),a.length%b.numElementsPerPage>0&&(b.numPages+=1),0===b.numPages&&(b.numPages=1);var d=a.slice(c,b.numElementsPerPage+c);return d}b._name=c,b.filteredData=!1,b.page={},b.page.elyos={},b.page.asmodians={},k(),b.goTo=function(a){a.id!=j&&e.path("/merge/"+a.id)},b.page.elyos.goTo=function(){var a=d.prompt("page",b.pagination.elyos.currentPage+1);a&&!isNaN(a)&&(a=parseInt(a),a&&a>0&&a<=b.pagination.elyos.numPages&&(b.pagination.elyos.currentPage=a-1,b.elyosData=o(b.pagination.elyos.elements,b.pagination.elyos)))},b.page.elyos.next=function(){b.pagination.elyos.currentPage+1>=b.pagination.elyos.numPages||(b.pagination.elyos.currentPage+=1,b.elyosData=o(b.pagination.elyos.elements,b.pagination.elyos))},b.page.elyos.previous=function(){0!==b.pagination.elyos.currentPage&&(b.pagination.elyos.currentPage-=1,b.elyosData=o(b.pagination.elyos.elements,b.pagination.elyos))},b.page.asmodians.next=function(){b.pagination.asmodians.currentPage+1>=b.pagination.asmodians.numPages||(b.pagination.asmodians.currentPage+=1,b.asmodianData=o(b.pagination.asmodians.elements,b.pagination.asmodians))},b.page.asmodians.previous=function(){0!==b.pagination.asmodians.currentPage&&(b.pagination.asmodians.currentPage-=1,b.asmodianData=o(b.pagination.asmodians.elements,b.pagination.asmodians))},b.page.asmodians.goTo=function(){var a=d.prompt("page",b.pagination.asmodians.currentPage+1);a&&!isNaN(a)&&(a=parseInt(a),a&&a>0&&a<=b.pagination.asmodians.numPages&&(b.pagination.asmodians.currentPage=a-1,b.asmodianData=o(b.pagination.asmodians.elements,b.pagination.asmodians)))},b.search=function(){n(b.textSearch,b.selectedClass,b.selectedRank)},b.clear=function(){b.textSearch="",b.selectedClass="",n("",null,null),b.textSearch="",b.selectedClass=null,b.selectedRank=null}}var c="mainApp.merge.list.mobile.controller";a.module("mainApp").controller(c,["$log","$scope","$window","$location","$timeout","helperService","storedDataService","serversData","groupID",b])}(angular),function(a){"use strict";function b(b,d,e,f,g,h,i){function j(){g.$scope.setTitle(i.serverName+" -> "+i.date),g.$scope.setNav("ranking.list"),d.serverData=i,d.textSearch="",d.searchDate=i.date,d.currentServer=h.serversList.first(function(a){return a.name==i.serverName}),d.storedDates=h.storedDates,d.servers=h.serversList,d.classes=h.characterClassIds.where(function(a){return a.id}),d.ranks=h.characterSoldierRankIds.where(function(a){return a.id>=10}).sort(function(a,b){return b.id-a.id});var b={currentPage:0,numElementsPerPage:100,numPages:-1,numElements:-1,pageNumbers:[],fullCollection:[],currentPageElements:[],next:p,previous:q,goTo:r};d.pagination={},d.pagination.elyos=a.copy(b),d.pagination.asmodians=a.copy(b),d.pagination.vs=a.copy(b),n(i),s=m(i),o(i.data.elyos.select(k),d.pagination.elyos),o(i.data.asmodians.select(k),d.pagination.asmodians),o(s,d.pagination.vs),d.$watch("textSearch",function(a){l(a,d.selectedClass,d.selectedRank)}),d.$watch("selectedClass",function(a){l(d.textSearch,a,d.selectedRank)}),d.$watch("selectedRank",function(a){l(d.textSearch,d.selectedClass,a)})}function k(a){return a?(a.characterClass=h.getCharacterClass(a.characterClassID),a.soldierRank=h.getCharacterRank(a.soldierRankID),a):{}}function l(a,b,c){function e(a,b,c,d){var e=!1,f=!1,g=!1;if(b){if(a&&a.characterName){var i=b.toLowerCase(),j=a.characterName?a.characterName.toLowerCase():"",k=a.guildName?a.guildName.toLowerCase():"",l=h.getCharacterClass(a.characterClassID).name.toLowerCase(),m=h.getCharacterRank(a.soldierRankID).name.toLowerCase();e=j.indexOf(i)>=0||k.indexOf(i)>=0||l.indexOf(i)>=0||m.indexOf(i)>=0}}else e=!0;return c?a&&(f=a.characterClassID==c.id):f=!0,d?a&&(g=a.soldierRankID==d.id):g=!0,e&&f&&g}t&&f.cancel(t),t=f(function(){return b||a||c?(d.elyosData=o(i.data.elyos.where(function(d){return e(d,a,b,c)}).select(k),d.pagination.elyos),d.asmodianData=o(i.data.asmodians.where(function(d){return e(d,a,b,c)}).select(k),d.pagination.asmodians),void(d.versusData=o(s.where(function(d){return e(d.elyo,a,b,c)||e(d.asmodian,a,b,c)}),d.pagination.vs))):(d.elyosData=o(i.data.elyos.select(k),d.pagination.elyos),d.asmodianData=o(i.data.asmodians.select(k),d.pagination.asmodians),void(d.versusData=o(s,d.pagination.vs)))},500)}function m(a){for(var b=[],c=0;1e3>c;c++)b.push({position:c+1,elyo:{},asmodian:{}});return a.data.elyos.select(k).forEach(function(a){b[a.position-1].elyo=a}),a.data.asmodians.select(k).forEach(function(a){b[a.position-1].asmodian=a}),b}function n(a){var b=10,c=1e3/b;d.chart={},d.chart.options={responsive:!0,maintainAspectRatio:!1},d.chart.labels=[],d.chart.series=["Elyos","Asmodians"],d.chart.data=[[],[]],d.chart.colors=["#DD66DD","#97BBCD"];for(var e=0;b>=e;e++){var f=1e3-e*c;0===f&&(f=1),0===e&&(f=999);var g=a.data.elyos.first(function(a){return a.position==f}),h=a.data.asmodians.first(function(a){return a.position==f});d.chart.labels.push(f),d.chart.data[0].push(g?g.gloryPoint:0),d.chart.data[1].push(h?h.gloryPoint:0)}}function o(a,b){b.currentPage=0,b.numPages=parseInt(a.length/b.numElementsPerPage),b.numElements=a.length,b.fullCollection=a,a.length%b.numElementsPerPage>0&&(b.numPages+=1),0===b.numPages&&(b.numPages=1),b.currentPageElements=b.fullCollection.slice(0,b.numElementsPerPage),b.pageNumbers=Array.apply(null,{length:b.numPages}).map(function(a,b){return b+1},Number)}function p(){var a=this;if(!(a.currentPage+1>=a.numPages)){a.currentPage+=1;var b=a.currentPage*a.numElementsPerPage;a.currentPageElements=a.fullCollection.slice(b,a.numElementsPerPage+b)}}function q(){var a=this;if(0!==a.currentPage){a.currentPage-=1;var b=a.currentPage*a.numElementsPerPage;a.currentPageElements=a.fullCollection.slice(b,a.numElementsPerPage+b)}}function r(a){var b=this;if(a>0&&a<=b.numPages){b.currentPage=a-1;var c=b.currentPage*b.numElementsPerPage;b.currentPageElements=b.fullCollection.slice(c,b.numElementsPerPage+c)}}d._name=c;var s=[],t=null;j(),d.goTo=function(a,b){(a.name!=i.serverName||b!=i.date)&&e.path("/ranking/"+a.name+"/"+b)}}var c="mainApp.ranking.list.controller";a.module("mainApp").controller(c,["$log","$scope","$location","$timeout","helperService","storedDataService","serverData",b])}(angular),function(a){"use strict";function b(a,b,d,e,f,g){function h(){f.$scope.setTitle(g.serverName+" -> "+g.date),f.$scope.setNav("ranking.list"),a.pagination={elyos:{currentPage:0,numElementsPerPage:50,numPages:-1,numElements:-1},asmodians:{currentPage:0,numElementsPerPage:50,numPages:-1,numElements:-1}},a.serverData=g,a.storedDates=e.storedDates,a.servers=e.serversList,a.classes=e.characterClassIds.where(function(a){return a.id}),a.ranks=e.characterSoldierRankIds.where(function(a){return a.id>=10}).sort(function(a,b){return b.id-a.id}),a.searchDate=g.date,a.currentServer=e.serversList.first(function(a){return a.name==g.serverName}),a.elyosData=k(g.data.elyos.select(i),a.pagination.elyos),a.asmodianData=k(g.data.asmodians.select(i),a.pagination.asmodians),a.textSearch="",a.selectedClass="",a.filters={},a.filters.show=!1}function i(a){return a?(a.characterClass=e.getCharacterClass(a.characterClassID),a.soldierRank=e.getCharacterRank(a.soldierRankID),a):{}}function j(b,c,d){function f(c,d,f,g){var h=!1,i=!1,j=!1;if(d){if(c&&c.characterName){var k=b.toLowerCase(),l=c.characterName?c.characterName.toLowerCase():"",m=c.guildName?c.guildName.toLowerCase():"",n=e.getCharacterClass(c.characterClassID).name.toLowerCase(),o=e.getCharacterRank(c.soldierRankID).name.toLowerCase();h=l.indexOf(k)>=0||m.indexOf(k)>=0||n.indexOf(k)>=0||o.indexOf(k)>=0}}else h=!0;return f?c&&(i=c.characterClassID==f.id):i=!0,g?c&&(j=c.soldierRankID==g.id):j=!0,a.filteredData=!0,h&&i&&j}a.pagination.elyos.currentPage=0,a.pagination.asmodians.currentPage=0;var h=function(b){return k(b,a.pagination.elyos)},j=function(b){return k(b,a.pagination.asmodians)};return c||b||d?(a.elyosData=h(g.data.elyos.where(function(a){return f(a,b,c,d)}).select(i)),void(a.asmodianData=j(g.data.asmodians.where(function(a){return f(a,b,c,d)}).select(i)))):(a.elyosData=h(g.data.elyos.select(i)),a.asmodianData=j(g.data.asmodians.select(i)),void(a.filteredData=!1))}function k(a,b){var c=b.currentPage*b.numElementsPerPage;b.numElements=a.length,b.elements=a,b.numPages=parseInt(a.length/b.numElementsPerPage),a.length%b.numElementsPerPage>0&&(b.numPages+=1),0===b.numPages&&(b.numPages=1);var d=a.slice(c,b.numElementsPerPage+c);return d}a._name=c,a.filteredData=!1,a.page={},a.page.elyos={},a.page.asmodians={},h(),a.goTo=function(a,b){(a.name!=g.serverName||b!=g.date)&&d.path("/ranking/"+a.name+"/"+b)},a.page.elyos.goTo=function(){var c=b.prompt("page",a.pagination.elyos.currentPage+1);c&&!isNaN(c)&&(c=parseInt(c),c&&c>0&&c<=a.pagination.elyos.numPages&&(a.pagination.elyos.currentPage=c-1,a.elyosData=k(a.pagination.elyos.elements,a.pagination.elyos)))},a.page.elyos.next=function(){a.pagination.elyos.currentPage+1>=a.pagination.elyos.numPages||(a.pagination.elyos.currentPage+=1,a.elyosData=k(a.pagination.elyos.elements,a.pagination.elyos))},a.page.elyos.previous=function(){0!==a.pagination.elyos.currentPage&&(a.pagination.elyos.currentPage-=1,a.elyosData=k(a.pagination.elyos.elements,a.pagination.elyos))},a.page.asmodians.next=function(){a.pagination.asmodians.currentPage+1>=a.pagination.asmodians.numPages||(a.pagination.asmodians.currentPage+=1,a.asmodianData=k(a.pagination.asmodians.elements,a.pagination.asmodians))},a.page.asmodians.previous=function(){0!==a.pagination.asmodians.currentPage&&(a.pagination.asmodians.currentPage-=1,a.asmodianData=k(a.pagination.asmodians.elements,a.pagination.asmodians))},a.page.asmodians.goTo=function(){var c=b.prompt("page",a.pagination.asmodians.currentPage+1);c&&!isNaN(c)&&(c=parseInt(c),c&&c>0&&c<=a.pagination.asmodians.numPages&&(a.pagination.asmodians.currentPage=c-1,a.asmodianData=k(a.pagination.asmodians.elements,a.pagination.asmodians)))},a.search=function(){j(a.textSearch,a.selectedClass,a.selectedRank)},a.clear=function(){a.textSearch="",a.selectedClass="",j("",null,null),a.textSearch="",a.selectedClass=null,a.selectedRank=null}}var c="mainApp.ranking.list.mobile.controller";a.module("mainApp").controller(c,["$scope","$window","$location","storedDataService","helperService","serverData",b])}(angular),function(a){"use strict";function b(a,b,d,e){a._name=c,a.$on("$routeChangeStart",function(){e.start()}),a.$on("$viewContentLoaded",function(a){e.complete(),b.ga("send","pageview",{page:d.path()})})}var c="mainApp.main.controller";a.module("mainApp").controller(c,["$rootScope","$window","$location","cfpLoadingBar",b])}(angular),function(a){"use strict";function b(a,b){var c=this,d=[];c.getAll=function(){var c=b.$q["new"]();if(d.length>0)c.resolve(d);else{var e=a({url:"data/Posts/posts.json",method:"GET"});e.success(function(a){a=a.sort(function(a,b){return a.date>b.date?-1:1}),d=a,c.resolve(a)}),e.error(c.reject)}return b.$q.likeHttp(c.promise)}}a.module("mainApp").service("blogService",["$http","helperService",b])}(angular),function(a){"use strict";function b(a){var b=this,c=[{server:"Hellion",id:326346,pic:"//i.imgur.com/bw4UVZu.png"},{server:"Hellion",id:332318,pic:"//i.imgur.com/jepRExb.png"}];b.getCharacterPic=function(a){var b=c.first(function(b){return b.server==a.serverName&&b.id==a.characterID});return b?b.pic:"//placehold.it/450X300/DD66DD/EE77EE/?text="+a.data.characterName}}a.module("mainApp").service("caracterPicsService",["$log",b])}(angular),function(a){"use strict";function b(a,b,c,d){var e=this;a.soyto=e,e.$q=b,e.storedDataService=d}a.module("mainApp").service("consoleService",["$window","$q","helperService","storedDataService",b])}(angular),function(a){"use strict";function b(a,b,e,f){var g=this;g.$scope={},g.$q={},g.navigator={},g.$scope.setTitle=function(a){b.title=a},g.$scope.setNav=function(a){b.navMenu=a},g.sortDates=function(a){return a=a.sort(function(a,b){var c=a.split("-"),d=b.split("-");return c=[parseInt(c[2]),parseInt(c[0]),parseInt(c[1])],d=[parseInt(d[2]),parseInt(d[0]),parseInt(d[1])],c[0]>d[0]?1:c[0]<d[0]?-1:c[1]>d[1]?1:c[1]<d[1]?-1:c[2]>d[2]?1:c[2]<d[2]?-1:0})},g.$q.fcall=function(b){var c=a.defer();return b?c.resolve(b()):c.resolve(),c.promise},g.$q.pfcall=function(b){var c=a.defer();return b?c.resolve(b()):c.resolve(),c},g.$q.likeHttp=function(b){if(b.promise)return b.promise.success=function(a){return b.promise.then(a),b.promise},b.promise.error=function(a){return b.promise["catch"](a),b.promise},b;if(b.then){var c=g.$q.likeHttp(a.defer());return b.then(c.resolve),b["catch"](c["catch"]),c.promise}},g.$q.likeNormal=function(b){var c=a.defer();return b.success(c.resolve).error(c.reject),c.promise},g.$q["new"]=function(){return a.defer()},g.$q.resolve=function(){return a.resolve()},g.$q.all=function(b){return a.all(b)},g.navigator.isMobile=function(){return c.test(e.navigator.userAgent)||d.test(e.navigator.userAgent.substr(0,4))}}a.module("mainApp").service("helperService",["$q","$rootScope","$window","$log",b]);var c=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,d=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;
}(angular),function(a){"use strict";function b(a,b,c){function e(){return h.storedDates[h.storedDates.length-1]}var f=[],g=[];b.$cacheServerData=f,b.$cacheCharacterInfo=g;var h=this;h.serversList=[{id:53,name:"Antriksha"},{id:49,name:"Barus"},{id:52,name:"Deyla"},{id:54,name:"Hellion"},{id:55,name:"Hyperion"},{id:50,name:"Loki"},{id:37,name:"Thor"},{id:40,name:"Urtem"}],h.mergeGroups=[[h.serversList[0],h.serversList[1]],[h.serversList[14],h.serversList[6],h.serversList[2]],[h.serversList[11],h.serversList[9],h.serversList[5]],[h.serversList[8],h.serversList[7],h.serversList[15]],[h.serversList[4],h.serversList[10]]],h.storedDates=c.sortDates(b.storedDates),h.characterSoldierRankIds=[{id:0,name:"Unknown"},{id:1,name:"Unknown"},{id:2,name:"Unknown"},{id:3,name:"Unknown"},{id:4,name:"Unknown"},{id:5,name:"Unknown"},{id:6,name:"Unknown"},{id:6,name:"Unknown"},{id:7,name:"Unknown"},{id:9,name:"Unknown"},{id:10,name:"Army 1-Star Officer"},{id:11,name:"Army 2-Star Officer"},{id:12,name:"Army 3-Star Officer"},{id:13,name:"Army 4-Star Officer"},{id:14,name:"Army 5-Star Officer"},{id:15,name:"General"},{id:16,name:"Great general"},{id:17,name:"Commander"},{id:18,name:"Governor"}],h.characterClassIds=[{},{id:1,name:"Gladiator",icon:"img/gladiator.jpg"},{id:2,name:"Templar",icon:"img/templar.jpg"},{},{id:4,name:"Assassin",icon:"img/assassin.jpg"},{id:5,name:"Ranger",icon:"img/ranger.jpg"},{},{id:7,name:"Sorcerer",icon:"img/sorc.jpg"},{id:8,name:"Spiritmaster",icon:"img/sm.jpg"},{},{id:10,name:"Cleric",icon:"img/cleric.jpg"},{id:11,name:"Chanter",icon:"img/chanter.jpg"},{},{id:13,name:"Aethertech",icon:"img/gladiator.jpg"},{id:14,name:"Gunner",icon:"img/gunner.png"},{},{id:16,name:"Bard",icon:"img/barde.png"}],h.getCharacterRank=function(a){return h.characterSoldierRankIds[a]},h.getCharacterClass=function(a){return h.characterClassIds[a]},h.getFromServer=function(b,e){var g=d+"data/Servers/"+b+"/"+e+".json",h=c.$q["new"](),i=f.first(function(a){return a.serverName==e&&a.date==b});if(i)h.resolve(i);else{var j=a({url:g,method:"GET"});j.success(function(a){var c={serverName:e,date:b,data:a};f.push(c),h.resolve(c)}),j.error(h.reject)}return c.$q.likeHttp(h.promise)},h.getLastFromServer=function(a){return h.getFromServer(e(),a)},h.getCharacterInfo=function(b,e){var f=d+"data/Servers/Characters/"+b+"/"+e+".json",h=c.$q["new"](),i=g.first(function(a){return a.serverName==b&&a.characterID==e});if(i)h.resolve(i);else{var j=a({url:f,method:"GET"});j.success(function(a){var c={serverName:b,characterID:e,data:a};g.push(c),h.resolve(c)}),j.error(h.reject)}return c.$q.likeHttp(h.promise)},h.getLastServerData=function(){return e()}}var c=!1,d=c?"":"http://91.184.11.238/";a.module("mainApp").service("storedDataService",["$http","$window","helperService",b])}(angular),function(a){"use strict";a.module("mainApp").directive("fbCommentPlugin",["$window",function(a){function b(a,b,c){return'<div class="fb-comments" data-href="'+a+'" data-numposts="'+b+'" data-colorsheme="'+c+'"></div>'}return{restrict:"A",scope:{},link:function(c,d,e){e.$observe("pageHref",function(c){var f=c,g=e.numposts||5,h=e.colorscheme||"light";d.html(b(f,g,h)),a.FB&&a.FB.XFBML.parse(d[0])})}}}])}(angular);